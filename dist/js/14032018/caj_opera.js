"use strict";var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var InputField=function(e){_inherits(t,React.Component);function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _createClass(t,[{key:"render",value:function(){var e=this,t=(void 0!==this.props.cols?this.props.cols:"")+" field ",a="true"==this.props.mayuscula?"mayuscula":"";return React.createElement("div",{className:t},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui icon input"},React.createElement("input",{className:a,id:this.props.id,readOnly:this.props.readOnly,name:this.props.id,type:"text",value:this.props.valor,placeholder:this.props.placeholder,onChange:function(t){return e.props.onChange(t)}})))}}]),t}(),InputCheck=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a}return _createClass(t,[{key:"handleClick",value:function(e){this.props.onClick(this.props.id)}},{key:"render",value:function(){return React.createElement("div",{className:"ui left floated compact segment"},React.createElement("div",{className:"ui fitted checkbox"},React.createElement("input",{name:this.props.id,type:"checkbox",value:this.props.valor}),React.createElement("label",{name:this.props.id,onClick:this.handleClick})))}}]),t}(),InputFieldFind=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:""},a}return _createClass(t,[{key:"render",value:function(){var e=this,t=(void 0!==this.props.cols?this.props.cols:"")+" field ";return React.createElement("div",{className:t},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui icon input"},React.createElement("input",{id:this.props.id,"data-idcre":this.props.dataid,name:this.props.id,value:this.props.valor,type:"text",placeholder:this.props.placeholder,onChange:function(t){return e.props.onChange(t)}}),React.createElement("i",{className:this.props.icons,onClick:function(t){return e.props.onClick(t,e.props.valor,e.props.id)}})))}}]),t}(),InputFieldNumber=function(e){_inherits(t,React.Component);function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _createClass(t,[{key:"render",value:function(){var e=this,t=(void 0!==this.props.cols?this.props.cols:"")+" field";return React.createElement("div",{className:t},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui labeled input"},React.createElement("div",{className:"ui label"},"$"),React.createElement("input",{type:"text",id:this.props.id,name:this.props.id,readOnly:this.props.readOnly,value:this.props.valor,onChange:function(t){return e.props.onChange(t)},onBlur:function(t){return e.props.onBlur(t)}})))}}]),t}(),InputFieldNum=function(e){_inherits(t,React.Component);function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _createClass(t,[{key:"render",value:function(){var e=(void 0!==this.props.cols?this.props.cols:"")+" field";return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui labeled input"},React.createElement("div",{className:"ui label"},"$"),React.createElement("input",{type:"text",id:this.props.id,name:this.props.id,value:this.props.valor})))}}]),t}(),Nota=function(e){_inherits(t,React.Component);function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:!0===this.props.visible?"":"hidden"},React.createElement("div",{className:"center aligned content "},React.createElement("p",{className:"ui rojo"},"Existen créditos por Entregar al Acreditado.")))}}]),t}(),Mensaje=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={icon:"send icon",titulo:"Guardar",pregunta:"¿Desea enviar el registro?"},a}return _createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"ui mini test modal scrolling transition hidden"},React.createElement("div",{className:"ui icon header"},React.createElement("i",{className:this.state.icon}),this.state.titulo),React.createElement("div",{className:"center aligned content "},React.createElement("p",null,this.state.pregunta)),React.createElement("div",{className:"actions"},React.createElement("div",{className:"ui red cancel basic button"},React.createElement("i",{className:"remove icon"})," No "),React.createElement("div",{className:"ui green ok basic button"},React.createElement("i",{className:"checkmark icon"})," Si ")))}}]),t}(),Calendar=function(e){_inherits(t,React.Component);function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"ui calendar",id:this.props.name},React.createElement("div",{className:"field"},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui input left icon"},React.createElement("i",{className:"calendar icon"}),React.createElement("input",{ref:"myCalen",type:"text",readOnly:this.props.readOnly,name:this.props.name,id:this.props.name,placeholder:"Fecha"}))))}}]),t}(),SelectDropDown=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:""},a.handleSelectChange=a.handleSelectChange.bind(a),a}return _createClass(t,[{key:"handleSelectChange",value:function(e){this.props.onChange(e),this.setState({value:e.target.value})}},{key:"componentDidMount",value:function(){$(ReactDOM.findDOMNode(this.refs.myDrop)).on("change",this.handleSelectChange)}},{key:"render",value:function(){var e=(void 0!==this.props.cols?this.props.cols:"")+" field ",t=this.props.valores.map(function(e){return React.createElement("div",{className:"item","data-value":e.value},e.name)});return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui fluid search selection dropdown"},React.createElement("input",{type:"hidden",ref:"myDrop",value:this.value,name:this.props.id,onChange:this.handleSelectChange}),React.createElement("i",{className:"dropdown icon"}),React.createElement("div",{className:"default text"},"Seleccione"),React.createElement("div",{className:"menu"},t)))}}]),t}(),SelectOption=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:""},a}return _createClass(t,[{key:"handleSelectChange",value:function(e){this.props.onChange(e)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=(void 0!==this.props.cols?this.props.cols:"")+" field ",t=this.props.valores.map(function(e){return React.createElement("option",{value:e.value},e.name)});return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("select",{className:"ui fluid dropdown",ref:"myCombo",name:this.props.id,id:this.props.id,onChange:this.handleSelectChange.bind(this)},React.createElement("option",{value:this.props.valor},"Seleccione"),t))}}]),t}();function Lista(e){var t=0,a={display:"none"},i={display:"display"},r=e.enca.map(function(e){return React.createElement("th",{key:t++,style:"id"==e||"Pagaré"==e||"ahorroc"==e||"ahorrov"==e||"SubTotal"==e||"idcredito"==e||"idahorro"==e?a:i},e)});return React.createElement("tr",null,r)}var RecordDetalle=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={idcredito:a.props.registro.idcredito,numero:a.props.registro.numero,nopagos:1,ahocorriente:0,capital:a.props.registro.capital,interes:a.props.registro.interes,iva:a.props.registro.iva,importepago:a.props.registro.importepago,ahocomprome:a.props.registro.ahocomprome,ajuste:a.props.registro.ajuste,total:a.props.registro.total},a}return _createClass(t,[{key:"handleInputChange",value:function(e){this.setState({nopagos:e.target.value})}},{key:"handleChange",value:function(e){var t=this;if("ahocorriente[]"==e.target.name){var a=this.state.importepago,i=this.state.ahocomprome,r=isNaN(e.target.value)||""==e.target.value?"0":e.target.value;this.setState({ahocorriente:r,total:parseFloat(a)+parseFloat(i)+parseFloat(r)})}else{var n=e.target.value;if(1==n)this.setState({nopagos:n,capital:this.props.registro.capital,interes:this.props.registro.interes,iva:this.props.registro.iva,importepago:this.props.registro.importepago,ahocomprome:this.props.registro.ahocomprome,ajuste:this.props.registro.ajuste,total:parseFloat(this.props.registro.importepago)+parseFloat(this.props.registro.ahocomprome)+parseFloat(this.props.registro.ajuste)+parseFloat(this.state.ahocorriente)}),this.setState(function(a,i){var r=numeral(a.total).format("0.00"),n=numeral(t.state.total).format("0.00"),s=numeral($("#grantotal").val()).format("0.00"),o=parseFloat(s)-parseFloat(n)+parseFloat(r);t.props.onChange(e,o)});else{var s=this,o=this.state.idcredito,l=parseFloat(this.state.numero)+parseFloat(n),c={url:base_url+"api/CarteraV1/amortizaMas/"+o+"/"+l,type:"GET",dataType:"json"};ajax(c).then(function(t){var a=s.state.total;s.setState({nopagos:n,capital:t.result[0].capital,interes:t.result[0].interes,iva:t.result[0].iva,importepago:t.result[0].importepago,ahocomprome:t.result[0].ahocomprome,ajuste:t.result[0].ajuste,total:parseFloat(t.result[0].importepago)+parseFloat(t.result[0].ahocomprome)+parseFloat(t.result[0].ajuste)+parseFloat(s.state.ahocorriente)}),s.setState(function(t,i){var r=numeral(s.state.total).format("0.00"),n=numeral($("#grantotal").val()).format("0.00"),o=parseFloat(n)-parseFloat(a)+parseFloat(r);s.props.onChange(e,o)})},function(e){var t=validaError(e);s.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),s.autoReset()})}}}},{key:"render",value:function(){var e=numeral(this.state.total).format("0,0.00"),t=numeral(this.state.capital).format("0,0.00"),a=numeral(this.state.interes).format("0,0.00"),i=numeral(this.state.iva).format("0,0.00"),r=numeral(this.state.importepago).format("0,0.00"),n=numeral(this.state.ahocomprome).format("0,0.00"),s=numeral(this.state.ajuste).format("0,0.00"),o=[];this.props.registro.nopagos.forEach(function(e){o.push(React.createElement("option",{value:e.value},e.name))});var l={display:"none"};return React.createElement("tr",null,React.createElement("td",null,React.createElement("input",{type:"text",className:"styleNo table-input",id:"idacreditado[]",name:"idacreditado[]",value:this.props.registro.idacreditado})," "),React.createElement("td",{style:l},React.createElement("input",{type:"text",className:"styleNo",id:"numero_cuentac[]",name:"numero_cuentac[]",value:this.props.registro.numero_cuentac})," "),React.createElement("td",{style:l},React.createElement("input",{type:"text",className:"styleNo",id:"numero_cuentav[]",name:"numero_cuentav[]",value:this.props.registro.numero_cuentav})," "),React.createElement("td",{style:l},React.createElement("input",{type:"text",className:"styleNo",id:"idcredito[]",name:"idcredito[]",value:this.props.registro.idcredito})," "),React.createElement("td",null,React.createElement("input",{type:"text",className:"styleNo table-input",id:"numero[]",name:"numero[]",value:this.props.registro.numero})),React.createElement("td",null,this.props.registro.acreditado," "),React.createElement("td",{style:l},React.createElement("input",{type:"text",className:"styleNo",id:"idpagare[]",name:"idpagare[]",value:this.props.registro.idpagare})," "),React.createElement("td",null,React.createElement("select",{className:"ui dropdown",value:this.state.nopagos,name:"nopagos[]",onChange:this.handleChange.bind(this)},o)),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",readOnly:"readOnly",id:"capital[]",name:"capital[]",value:t})," "),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",readOnly:"readOnly",id:"interes[]",name:"interes[]",value:a})," "),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",readOnly:"readOnly",id:"iva[]",name:"iva[]",value:i})," "),React.createElement("td",{style:l},React.createElement("input",{className:"table-input",readOnly:"readOnly",type:"text",id:"importepago[]",name:"importepago[]",value:r})," "),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",readOnly:"readOnly",id:"ahocomprome[]",name:"ahocomprome[]",value:n})," "),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",id:"ahocorriente[]",name:"ahocorriente[]",value:this.state.ahocorriente,onChange:this.handleChange.bind(this)})," "),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",readOnly:"readOnly",id:"total[]",name:"total[]",value:e})," "),React.createElement("td",{style:l},React.createElement("input",{className:"table-input",type:"text",readOnly:"readOnly",id:"ajuste[]",name:"ajuste[]",value:s})," "))}}]),t}(),Table=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={grantotal:a.props.totalxpagar},a.handleChange=a.handleChange.bind(a),a}return _createClass(t,[{key:"handleChange",value:function(e,t){this.setState({grantotal:t})}},{key:"render",value:function(){var e=[],t=this.props.datos,a=0;a=void 0==t[0]?0:0!=this.state.grantotal?numeral(this.state.grantotal).format("0,0.00"):numeral(this.props.totalxpagar).format("0,0.00"),t instanceof Array==!0&&t.forEach(function(t){e.push(React.createElement(RecordDetalle,{registro:t,onChange:this.handleChange}))}.bind(this));return React.createElement("div",null,React.createElement("table",{className:"ui selectable celled blue table"},React.createElement("thead",null,React.createElement(Lista,{enca:["No. Socia","ahorroc","ahorrov","id","No","Nombre","Pagaré","No.Pagos","Capital","Interes","IVA","SubTotal","Ahorro comprometido","Ahorro","Total"]})),React.createElement("tbody",null,e),React.createElement("tfoot",{className:"full-width"},React.createElement("tr",null,React.createElement("th",{colSpan:10},React.createElement("div",{className:"ui right floated  tiny orange statistic"},React.createElement("input",{className:"totalxpagar",type:"text",id:"grantotal",name:"grantotal",value:a})))))))}}]),t}(),RecordDetalleC=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={cantidad:0,total:0},a}return _createClass(t,[{key:"handleChange",value:function(e){var t=this,a=(e.target.name,isNaN(e.target.value)||""==e.target.value?"0":e.target.value);this.setState({cantidad:a,total:parseFloat(this.props.registro.nombre)*parseFloat(a)}),this.setState(function(a,i){var r=numeral(a.total).format("0.00"),n=numeral(t.state.total).format("0.00"),s=numeral($("#grantotalcorte").val()).format("0.00"),o=parseFloat(s)-parseFloat(n)+parseFloat(r);t.props.onChange(e,o)})}},{key:"render",value:function(){numeral(this.state.cantidad).format("0,0.00");var e=numeral(this.state.total).format("0,0.00");return React.createElement("tr",null,React.createElement("td",{style:{display:"none"}},React.createElement("input",{className:"table-input",type:"text",id:"iddenomina[]",name:"iddenomina[]",value:this.props.registro.iddenomina})," "),React.createElement("td",null,this.props.registro.nombre),React.createElement("td",null,React.createElement("input",{className:"table-input",type:"text",id:"cantidad[]",name:"cantidad[]",value:this.state.cantidad,onChange:this.handleChange.bind(this)})," "),React.createElement("td",null,React.createElement("input",{className:"table-input",readOnly:"readOnly",type:"text",id:"total[]",name:"total[]",value:e})," "))}}]),t}(),TableC=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={grantotal:a.props.totalxpagarc},a.handleChange=a.handleChange.bind(a),a}return _createClass(t,[{key:"handleChange",value:function(e,t){this.setState({grantotal:t}),this.props.onChange(t)}},{key:"render",value:function(){var e=[],t=this.props.datos,a=0!=this.state.grantotal?numeral(this.state.grantotal).format("0,0.00"):numeral(this.props.totalxpagar).format("0,0.00");t instanceof Array==!0&&t.forEach(function(t){e.push(React.createElement(RecordDetalleC,{registro:t,onChange:this.handleChange}))}.bind(this));return React.createElement("div",{className:"ui grid"},React.createElement("div",{className:"eight wide column"},React.createElement("table",{className:"ui selectable celled blue table"},React.createElement("thead",null,React.createElement(Lista,{enca:["Denominación","Cantidad","Importe"]})),React.createElement("tbody",null,e),React.createElement("tfoot",{className:"full-width"},React.createElement("tr",null,React.createElement("th",{colSpan:3},React.createElement("div",{className:"ui right floated  tiny orange statistic"},React.createElement("input",{className:"totalxpagar",type:"text",id:"grantotalcorte",name:"grantotalcorte",value:a}))))))))}}]),t}(),RecordDetSoc=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleEdoCta=a.handleEdoCta.bind(a),a.handleRetiro=a.handleRetiro.bind(a),a}return _createClass(t,[{key:"handleEdoCta",value:function(e){new Date;var t="edocta/"+this.props.registro.idcredito,a=document.createElement("a");a.href=base_url+"api/ReportV1/"+t,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"handleRetiro",value:function(e){var t=this.props.registro;this.props.onClick(e,t.idcredito,t.idahorro,t.numero_cuenta,t.idpagare,t.comprometido)}},{key:"render",value:function(){var e=null;0!=this.props.registro.comprometido&&this.props.registro.monto==this.props.registro.pagos&&(e=React.createElement("a",{"data-tooltip":"Retiro de ahorro"},React.createElement("i",{className:"minus circle icon circular green link",onClick:this.handleRetiro})));var t={display:"none"};return React.createElement("tr",null,React.createElement("td",{style:t},this.props.registro.idcredito),React.createElement("td",{style:t},this.props.registro.idahorro),React.createElement("td",null,this.props.registro.idpagare),React.createElement("td",null,this.props.registro.monto),React.createElement("td",null,this.props.registro.pagos),React.createElement("td",null,this.props.registro.saldo),React.createElement("td",null,this.props.registro.numero_cuenta),React.createElement("td",null,this.props.registro.comprometido),React.createElement("td",{className:" center aligned"},e,React.createElement("a",{"data-tooltip":"Estado de cuenta"},React.createElement("i",{className:"file text outline icon circular orange link",onClick:this.handleEdoCta}))))}}]),t}(),RecordDetAho=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleEdoCta=a.handleEdoCta.bind(a),a.handleAddAhorro=a.handleAddAhorro.bind(a),a}return _createClass(t,[{key:"handleEdoCta",value:function(){console.log(this.props.registro.numero_cuenta)}},{key:"handleAddAhorro",value:function(e){var t=this.props.registro;this.props.onClick(e,t.idahorro,t.numero_cuenta)}},{key:"render",value:function(){return React.createElement("tr",null,React.createElement("td",{style:{display:"none"}},this.props.registro.idahorro),React.createElement("td",null,this.props.registro.numero_cuenta),React.createElement("td",null,this.props.registro.fecdeposito),React.createElement("td",null,this.props.registro.fecretiro),React.createElement("td",{className:" center aligned"},React.createElement("a",{"data-tooltip":"Agregar registro"},React.createElement("i",{className:"add circle icon circular green link",onClick:this.handleAddAhorro}))," ",React.createElement("a",{"data-tooltip":"Estado de cuenta"},React.createElement("i",{className:"file text outline icon circular orange link",onClick:this.handleEdoCta}))))}}]),t}(),RecordDetInv=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleEdoCta=a.handleEdoCta.bind(a),a.handleReinversion=a.handleReinversion.bind(a),a.handleCancelar=a.handleCancelar.bind(a),a}return _createClass(t,[{key:"handleEdoCta",value:function(){console.log(this.props.registro.numero_cuenta)}},{key:"handleReinversion",value:function(e){var t=this.props.registro;this.props.onClick(e,t.numero)}},{key:"handleCancelar",value:function(e){this.props.onClick(e,this.props.registro.numero)}},{key:"render",value:function(){return React.createElement("tr",null,React.createElement("td",null,this.props.registro.numero),React.createElement("td",null,this.props.registro.fecha),React.createElement("td",null,this.props.registro.fechafin),React.createElement("td",{className:" center aligned"},React.createElement("a",{"data-tooltip":"Reinvertir "},React.createElement("i",{className:"exchange icon circular green link",onClick:this.handleReinversion})),React.createElement("a",{"data-tooltip":"Estado de cuenta"},React.createElement("i",{className:"file text outline icon circular orange link",onClick:this.handleEdoCta}))))}}]),t}(),TableGlob=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={ver:!1,verr:!1,veri:!1,idacreditado:0,numero_cuenta:"",idpagare:"",movimiento:0,importe:0,saldoini:0,saldofin:0,saldoreq:0,iddestino:0,idahorrov:0,idahorrop:0,idcredito:0,incrementocheck:"off",retiroccheck:"off",retiroicheck:"off",cretiroc:0,cretiroi:0,idinversion:""},a.handleAddAhorro=a.handleAddAhorro.bind(a),a.handleRetiro=a.handleRetiro.bind(a),a.handleInversion=a.handleInversion.bind(a),a.handleCloseW=a.handleCloseW.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.handleonBlur=a.handleonBlur.bind(a),a.handleClickCheck=a.handleClickCheck.bind(a),a}return _createClass(t,[{key:"handleAddAhorro",value:function(e,t,a){this.setState({ver:!0,idahorrov:t,numero_cuenta:a}),this.props.onChange(e,1)}},{key:"handleRetiro",value:function(e,t,a,i,r,n){this.setState({verr:!0,idcredito:t,idahorrop:a,numero_cuenta:i,idpagare:r,importe:n}),this.props.onChange(e,3)}},{key:"GeneraTotales",value:function(){var e=$("#fecha").val(),t=this.state.importe,a=this.state.dias,i=this.state.tasa;if("importe"==name?t=value:"dias"==name?a=value:"tasa"==name&&(i=value),""!=e&&0!=a||0!=a&&""!=e){var r=moment(e,"DD/MM/YYYY").add(a,"day").format("DD/MM/YYYY");this.setState({fechafin:r})}if(0!=t&&0!=i){var n=numeral(parseFloat(t.replace(",",""))*a*(i/100)/360).format("0,0.00"),s=numeral(parseFloat(t.replace(",",""))+parseFloat(n.replace(",",""))).format("0.00");this.setState({interes:n,total:s})}}},{key:"handleInversion",value:function(e,t){this.setState({veri:!0}),this.props.onChange(e,2);var a=this,i={url:base_url+"api/CarteraV1/getInversion/"+t,type:"GET",dataType:"json"};ajax(i).then(function(e){var i=moment(e.result[0].fechafin).format("DD/MM/YYYY");a.setState({csrf:e.newtoken,idinversion:e.result[0].idinversion,numeroi:t,importei:e.result[0].importe,interesi:e.result[0].interes,totali:e.result[0].total,fecha:i,importe:e.result[0].total,interes:"",fechafin:"",total:"",numero:"",activo:0,incrementocheck:"off",incremento:"",retiroccheck:"off",retiroc:"",cretiroc:0,retiroicheck:"off",retiroi:"",cretiroi:0,dias:e.result[0].dias,tasa:e.result[0].tasa});$(".get.reinver form").form("set values",{cretiroi:"0",cretiroc:"0",incrementocheck:"off",retiroccheck:"off",retiroicheck:"off",dias:e.result[0].dias});a.GeneraTotales(),a.autoReset()},function(e){var t=validaError(e);a.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),a.autoReset()})}},{key:"handleCloseW",value:function(e){this.props.onChange(e,0),this.setState({ver:!1,verr:!1,veri:!1})}},{key:"handleClickCheck",value:function(e){var t=void 0,a=0,i=0,r=0;if("incrementocheck"==e?t=this.state.incrementocheck:"retiroccheck"==e?t=this.state.retiroccheck:"retiroicheck"==e&&(t=this.state.retiroicheck),t="off"==t?"on":"off","incrementocheck"==e&&"on"==t)a=0,"on"==this.state.retiroicheck&&(i=parseFloat(this.state.interesi)),r=0,this.setState({retiroccheck:"off",retiroc:"",incremento:""}),$(".get.reinver form").form("set values",{retiroccheck:"off"});else if("incrementocheck"==e&&"off"==t)"on"==this.state.retiroicheck&&(i=parseFloat(this.state.interesi)),this.setState({incremento:""});else if("retiroccheck"==e&&"on"==t){var n=this.state.importei;a=parseFloat(n),this.setState({incrementocheck:"off",incremento:"",retiroc:n}),$(".get.reinver form").form("set values",{incrementocheck:"off"})}else if("retiroccheck"==e&&"off"==t)"on"==this.state.retiroicheck&&(i=parseFloat(this.state.interesi)),a=0,this.setState({retiroc:""});else if("retiroicheck"==e&&"on"==t){var s=this.state.interesi;"on"==this.state.incrementocheck&&""!=this.state.incremento&&(r=parseFloat(this.state.incremento)),"on"==this.state.retiroccheck&&(a=parseFloat(this.state.importei)),i=parseFloat(s),this.setState({retiroi:s})}else"retiroicheck"==e&&"off"==t&&(""!=this.state.retiroc&&(a=parseFloat(this.state.retiroc)),""!=this.state.incremento&&(r=parseFloat(this.state.incremento)),i=0,this.setState({retiroi:""}));var o=parseFloat(this.state.totali),l=numeral(o+r-a-i).format("0,0.00");this.setState({importe:l});var c=this.state.tasa,d=this.state.dias;if(0!=l&&0!=c&&0!=d){var m=numeral(parseFloat(l.replace(",",""))*d*(c/100)/360).format("0,0.00"),u=numeral(parseFloat(l.replace(",",""))+parseFloat(m.replace(",",""))).format("0.00");this.setState({interes:m,total:u})}this.setState(_defineProperty({},e,t))}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,i=a.value,r=a.name;this.setState(_defineProperty({},r,i));if("dias"==r||"importe"==r){var n="",s=this.state.importe;if("dias"==r?n=i:(n=this.state.dias,"importe"==r&&(s=i)),0!=(s=parseFloat(s.replace(",","")))){var o=this.props.catInteres.filter(function(e){return s>e.monto});if(o.length>0){var l=(o=o[o.length-1])[n];this.setState({tasa:l}),l}else this.setState({tasa:0})}else this.setState({tasa:0})}if("importe"==r||"movimiento"==r){var c=0;this.setState(function(e,a){c=e.importe,"D"==t.state.movimiento?parseFloat(t.state.saldoini)+parseFloat(c):"R"==t.state.movimiento&&parseFloat(t.state.saldoini)-parseFloat(c)})}else if("incremento"==r){var d=0,m=parseFloat(this.state.totali);""!=this.state.retiroc&&(d=parseFloat(this.state.retiroc));var u=0;"on"==this.state.retiroicheck&&(u=parseFloat(this.state.retiroi));var h=numeral(m-d-u+parseFloat(i)).format("0,0.00");this.setState({importe:h});var p=this.state.tasa,v=this.state.dias;if(0!=h&&0!=p&&0!=v){var f=numeral(parseFloat(h.replace(",",""))*v*(p/100)/360).format("0,0.00"),g=numeral(parseFloat(h.replace(",",""))+parseFloat(f.replace(",",""))).format("0.00");this.setState({interes:f,total:g})}}else if("dias"==r||"tasa"==r){var R=$("#fecha").val(),b=this.state.importe,y=this.state.dias,E=this.state.tasa;if("importe"==r?b=i:"dias"==r?y=i:"tasa"==r&&(E=i),""!=R&&0!=y||0!=y&&""!=R){var C=moment(R,"DD/MM/YYYY").add(y,"day").format("DD/MM/YYYY");this.setState({fechafin:C})}if(0!=b&&0!=E){var N=numeral(parseFloat(b.replace(",",""))*y*(E/100)/360).format("0,0.00"),_=numeral(parseFloat(b.replace(",",""))+parseFloat(N.replace(",",""))).format("0.00");this.setState({interes:N,total:_})}return}}},{key:"handleSubmitAho",value:function(e){e.preventDefault(),$(".ui.form.formaho").form({inline:!0,on:"blur",fields:{numero_cuenta:{identifier:"numero_cuenta",rules:[{type:"empty",prompt:"Numero de Cuenta incorrecto "}]},movimiento:{identifier:"movimiento",rules:[{type:"empty",prompt:"Capture el tipo de movimiento"}]},importe:{identifier:"importe",rules:[{type:"empty",prompt:"Capture el importe"},{type:"integer",prompt:"Cantidad incorrecta"}]}}}),$(".ui.form.formaho").form("validate form");var t=$(".ui.form.formaho").form("is valid");if("0"!=this.state.movimiento&&0!=this.state.importe||(t=!1),1==t){var a=$(".get.ahoing form"),i=a.form("get values"),r=a.form("get value","csrf_bancomunidad_token"),n=this,s=$("#idacredita").data("idcre");$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/altahorro/"+s,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:r,data:i}};ajax(e).then(function(e){n.setState({importe:0,movimiento:0}),n.props.onClick(2,e.message,"ui positive floating message",e.newtoken);$(".get.ahoing form").form("set values",{movimiento:"0"})},function(e){var t=validaError(e);n.props.onClick(0,t.message,"ui negative floating message",t.newtoken)})}}).modal("show")}else forma.props.onClick(0,"Datos incompletos","ui negative floating message")}},{key:"handleSubmitInv",value:function(e){e.preventDefault(),$(".ui.form.forminv").form({inline:!0,on:"blur",fields:{fecha:{identifier:"fecha",rules:[{type:"empty",prompt:"Seleccione la fecha"}]},importe:{identifier:"importe",rules:[{type:"empty",prompt:"Requiere un valor"}]},dias:{identifier:"dias",rules:[{type:"empty",prompt:"Requiere un valor"}]},tasa:{identifier:"tasa",rules:[{type:"empty",prompt:"Requiere un valor"}]},interes:{identifier:"interes",rules:[{type:"empty",prompt:"Requiere un valor"}]},fechafin:{identifier:"fechafin",rules:[{type:"empty",prompt:"Requiere un valor"}]},total:{identifier:"total",rules:[{type:"empty",prompt:"Requiere un valor"}]}}}),$(".ui.form.forminv").form("validate form");var t=$(".ui.form.forminv").form("is valid");if(this.setState({message:"",statusmessage:"ui hidden message"}),1==t){var a=$(".get.solinver form"),i=a.form("get values"),r=a.form("get value","csrf_bancomunidad_token"),n=this,s=this.state.acreditainv;$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/update_inversion/"+s,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:r,data:i}};ajax(e).then(function(e){n.setState({csrf:e.newtoken,message:e.message,statusmessage:"ui positive floating message ",fecha:"",importe:"",dias:"",tasa:"",interes:"",fechafin:"",total:"",numero:"",activo:0,idinversion:""}),n.autoReset()},function(e){var t=validaError(e);n.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),n.autoReset()})}}).modal("show")}else this.setState({message:"Datos incompletos!",statusmessage:"ui negative floating message"}),this.autoReset()}},{key:"handleSubmitRet",value:function(e){e.preventDefault(),$(".ui.form.formret").form({inline:!0,on:"blur",fields:{numero_cuenta:{identifier:"numero_cuenta",rules:[{type:"empty",prompt:"Numero de Cuenta incorrecto "}]},idpagare:{identifier:"idpagare",rules:[{type:"empty",prompt:"Capture el pagaré"}]},iddestino:{identifier:"iddestino",rules:[{type:"empty",prompt:"Seleccione el destino"}]},importe:{identifier:"importe",rules:[{type:"empty",prompt:"Capture el importe"}]}}}),$(".ui.form.formret").form("validate form");var t=$(".ui.form.formret").form("is valid");"0"!=this.state.iddestino&&0!=this.state.importe||(t=!1);var a=this;if(1==t){var i=$(".get.ahoret form"),r=i.form("get values"),n=i.form("get value","csrf_bancomunidad_token"),s=$("#idacredita").data("idcre");$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/retahorro/"+s,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:n,data:r}};ajax(e).then(function(e){a.setState({idpagare:"",numero_cuenta:"",importe:"",iddestino:0}),a.props.onClick(1,e.message,"ui positive floating message",e.newtoken)},function(e){var t=validaError(e);a.setState({csrf1:t.newtoken,csrf2:t.newtoken}),a.props.onClick(0,t.message,"ui negative floating message",t.newtoken)})}}).modal("show")}else a.props.onClick(0,"Datos incompletos!","ui negative floating message")}},{key:"handleSubmitReInv",value:function(){event.preventDefault();var e=void 0,t=void 0,a=void 0,i=void 0,r=void 0;"on"==this.state.incrementocheck&&(e=[{type:"empty",prompt:"Incremento requerido"}]),"on"==this.state.retiroccheck&&(t=[{type:"empty",prompt:"Retiro Capital requerido"}],i="0"==this.state.cretiroc?[{type:"integer[1]",prompt:"Seleccione una opción"}]:[{type:"empty",prompt:"Seleccione una opción"}]),"on"==this.state.retiroicheck&&(a=[{type:"empty",prompt:"Retiro Interes requerido"}],r="0"==this.state.cretiroi?[{type:"integer[1]",prompt:"Seleccione una opción"}]:[{type:"empty",prompt:"Seleccione una opción"}]),$(".ui.form.formreinv").form({inline:!0,on:"blur",fields:{importei:{identifier:"importei",rules:[{type:"empty",prompt:"Importe requerido"}]},interesi:{identifier:"interesi",rules:[{type:"empty",prompt:"Interes requerido"}]},totali:{identifier:"totali",rules:[{type:"empty",prompt:"Total requerido"}]},incremento:{identifier:"incremento",rules:e},fecha:{identifier:"fecha",rules:[{type:"empty",prompt:"Fecha requerido"}]},retiroc:{identifier:"retiroc",rules:t},cretiroc:{identifier:"cretiroc",rules:i},retiroi:{identifier:"retiroi",rules:a},cretiroi:{identifier:"cretiroi",rules:r},importe:{identifier:"importe",rules:[{type:"empty",prompt:"Fecha requerido"}]},dias:{identifier:"dias",rules:[{type:"empty",prompt:"Dias requerido"}]},tasa:{identifier:"dias",rules:[{type:"empty",prompt:"Tasa requerido"}]},interes:{identifier:"interes",rules:[{type:"empty",prompt:"Interes requerido"}]},fechafin:{identifier:"fechafin",rules:[{type:"empty",prompt:"Fecha Vencimiento requerido"}]},total:{identifier:"total",rules:[{type:"empty",prompt:"Total requerido"}]}}}),$(".ui.form.formreinv").form("validate form");var n=$(".ui.form.formreinv").form("is valid");0==this.state.total&&"on"!=this.state.retiroccheck&&"on"!=this.state.retiroicheck&&(n=!1);var s=this;if(1==n){var o=$(".get.reinver form"),l=o.form("get values"),c=o.form("get value","csrf_bancomunidad_token"),d=$("#idacredita").data("idcre");$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/reinversion/"+d,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:c,data:l}};ajax(e).then(function(e){s.handleCloseW(),s.props.onClick(3,e.message,"ui positive floating message",e.newtoken)},function(e){var t=validaError(e);s.setState({csrf1:t.newtoken,csrf2:t.newtoken}),s.props.onClick(0,t.message,"ui negative floating message",t.newtoken)})}}).modal("show")}else s.props.onClick(0,"Datos incompletos!","ui negative floating message")}},{key:"handleonBlur",value:function(e){}},{key:"autoReset",value:function(){var e=this;window.clearTimeout(e.timeout),this.timeout=window.setTimeout(function(){e.setState({message:"",statusmessage:"ui message hidden"})},5e3)}},{key:"render",value:function(){var e=[],t=this.props.datos,a=null,i=null,r=null;if(t instanceof Array==!0)if(t.forEach(function(t){"pagares"==this.props.name?e.push(React.createElement(RecordDetSoc,{registro:t,onClick:this.handleRetiro})):"voluntario"==this.props.name?e.push(React.createElement(RecordDetAho,{registro:t,onClick:this.handleAddAhorro})):"inversiones"==this.props.name&&e.push(React.createElement(RecordDetInv,{registro:t,onClick:this.handleInversion}))}.bind(this)),"pagares"==this.props.name)i=React.createElement("div",null,React.createElement("h4",{className:!0===this.state.verr?"ui dividing header right aligned":"hidden"},React.createElement("i",{className:"window close icon red link",onClick:this.handleCloseW})),React.createElement("div",{className:!0===this.state.verr?"ui blue segment":"ui blue segment step hidden"},React.createElement("div",{className:"get ahoret"},React.createElement("form",{className:"ui form formret",ref:"form",onSubmit:this.handleSubmitRet.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.props.csrf}),React.createElement("div",{className:"four fields"},React.createElement("input",{id:"idahorrop",readOnly:"readOnly",name:"idahorrop",type:"hidden",value:this.state.idahorrop}),React.createElement("input",{id:"idcredito",readOnly:"readOnly",name:"idcredito",type:"hidden",value:this.state.idcredito}),React.createElement(InputField,{id:"numero_cuenta",label:"Cuenta",readOnly:"readOnly",valor:this.state.numero_cuenta}),React.createElement(SelectOption,{name:"iddestino",id:"iddestino",label:"Destino",valor:this.state.iddestino,valores:[{name:"Acreditado",value:"A"},{name:"Ahorro Voluntario",value:"V"}],onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"idpagare",label:"Pagaré",readOnly:"readOnly",valor:this.state.idpagare}),React.createElement(InputFieldNumber,{id:"importe",label:"Importe",readOnly:"readOnly",valor:this.state.importe,onChange:this.handleInputChange,onBlur:this.handleonBlur})),React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"})," Enviar")))))));else if("voluntario"==this.props.name)a=React.createElement("div",null,React.createElement("h4",{className:!0===this.state.ver?"ui dividing header right aligned":"hidden"},React.createElement("i",{className:"window close icon red link",onClick:this.handleCloseW})),React.createElement("div",{className:!0===this.state.ver?"ui blue segment":"ui blue segment step hidden"},React.createElement("div",{className:"get ahoing"},React.createElement("form",{className:"ui form formaho",ref:"form",onSubmit:this.handleSubmitAho.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.props.csrf}),React.createElement("div",{className:"three fields"},React.createElement("input",{id:"idahorrov",readOnly:"readOnly",name:"idahorrov",type:"hidden",value:this.state.idahorrov}),React.createElement(InputField,{id:"numero_cuenta",label:"Cuenta",readOnly:"readOnly",valor:this.state.numero_cuenta}),React.createElement(SelectOption,{name:"movimiento",id:"movimiento",label:"Tipo de Movimiento",valor:this.state.movimiento,valores:[{name:"Deposito",value:"D"},{name:"Retiro",value:"R"}],onChange:this.handleInputChange}),React.createElement(InputFieldNumber,{id:"importe",label:"Importe",valor:this.state.importe,onChange:this.handleInputChange,onBlur:this.handleonBlur})),React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"})," Enviar")))))));else if("inversiones"==this.props.name){var n=null;"off"!=this.state.retiroccheck&&"off"!=this.state.retiroicheck||(n=React.createElement("div",{className:""},React.createElement("div",{className:"fields"},React.createElement(InputField,{id:"fecha",label:"Fecha",cols:"four",readOnly:"readOnly",valor:this.state.fecha,onChange:this.handleInputChange.bind(this)}),React.createElement(InputFieldNumber,{id:"importe",cols:"four",readOnly:"readOnly",label:"Importe",valor:this.state.importe,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}),React.createElement(SelectOption,{id:"dias",cols:"two wide",label:"Plazo",valor:this.state.dias,valores:this.props.catPlazos,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"tasa",readOnly:"readOnly",label:"Tasa",cols:"two",valor:this.state.tasa,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"interes",cols:"four",readOnly:"readOnly",label:"Interes",valor:this.state.interes,onChange:this.handleInputChange.bind(this)})),React.createElement("div",{className:"fields"},React.createElement(InputField,{id:"fechafin",cols:"three",readOnly:"readOnly",label:"Fecha vencimiento",valor:this.state.fechafin,onChange:this.handleInputChange.bind(this)}),React.createElement(InputFieldNumber,{id:"total",cols:"three",readOnly:"readOnly",label:"Total",valor:this.state.total,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}))));var s="";"off"==this.state.incrementocheck&&(s="readOnly"),r=React.createElement("div",null,React.createElement("h4",{className:!0===this.state.veri?"ui dividing header right aligned":"hidden"},React.createElement("i",{className:"window close icon red link",onClick:this.handleCloseW})),React.createElement("div",{className:!0===this.state.veri?"ui blue segment":"ui blue segment step hidden"},React.createElement("div",{className:"get reinver"},React.createElement("form",{className:"ui form formreinv",ref:"form",onSubmit:this.handleSubmitReInv.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.props.csrf}),React.createElement("input",{type:"hidden",name:"idinversion",value:this.state.idinversion}),React.createElement("div",{className:"three fields"},React.createElement(InputField,{id:"numeroi",label:"Número",readOnly:"readOnly",valor:this.state.numeroi}),React.createElement(InputFieldNumber,{id:"importei",cols:"four",readOnly:"readOnly",label:"Importe",valor:this.state.importei,onBlur:this.handleonBlur}),React.createElement(InputFieldNumber,{id:"interesi",cols:"four",readOnly:"readOnly",label:"Interes",valor:this.state.interesi,onBlur:this.handleonBlur}),React.createElement(InputFieldNumber,{id:"totali",cols:"four",readOnly:"readOnly",label:"Total",valor:this.state.totali,onBlur:this.handleonBlur})),React.createElement("div",{className:"three fields"},React.createElement(InputCheck,{id:"incrementocheck",valor:this.state.incrementocheck,onClick:this.handleClickCheck}),React.createElement(InputFieldNumber,{id:"incremento",readOnly:s,label:"Incremento Capital",valor:this.state.incremento,onChange:this.handleInputChange,onBlur:this.handleonBlur})),React.createElement("div",{className:"three fields"},React.createElement(InputCheck,{id:"retiroccheck",valor:this.state.retiroccheck,onClick:this.handleClickCheck}),React.createElement(InputFieldNumber,{id:"retiroc",readOnly:"readOnly",label:"Retiro Capital",valor:this.state.retiroc,onChange:this.handleInputChange,onBlur:this.handleonBlur}),React.createElement(SelectOption,{name:"cretiroc",id:"cretiroc",label:"Destino",valor:this.state.cretiroc,valores:[{name:"Efectivo",value:"E"},{name:"Ahorro Voluntario",value:"V"}],onChange:this.handleInputChange.bind(this)}),React.createElement(InputCheck,{id:"retiroicheck",valor:this.state.retiroicheck,onClick:this.handleClickCheck}),React.createElement(InputFieldNumber,{id:"retiroi",readOnly:"readOnly",label:"Retiro Interes",valor:this.state.retiroi,onChange:this.handleInputChange,onBlur:this.handleonBlur}),React.createElement(SelectOption,{name:"cretiroi",id:"cretiroi",label:"Destino",valor:this.state.cretiroi,valores:[{name:"Efectivo",value:"E"},{name:"Ahorro Voluntario",value:"V"}],onChange:this.handleInputChange.bind(this)})),n,React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"})," Enviar")))))))}return React.createElement("div",null,React.createElement("table",{className:"ui selectable celled violet table"},React.createElement("thead",null,React.createElement(Lista,{enca:this.props.enca})),React.createElement("tbody",null,e)),a,i,r)}}]),t}(),Captura=function(e){_inherits(t,React.Component);function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={idcolmena:0,fecha_pago:"",catColmenas:[],catGrupos:[],catPagares:[],catPagDis:[],catAporta:[],catPlazos:[],catInteres:[],activoap:0,movapor:"",tipoapor:"",imporapor:0,idbancodetapor:"",cheque_refapor:"",afavorapor:"",idgrupo:0,idpagare:"",totalcompara:0,tipo:"",nombrei:"",nombreg:"",nombred:"",csrf:"",message:"",statusmessage:"ui floating hidden message",capital:0,sumatotal:0,totalxpagar:0,stepno:0,stepOpc:0,activoc:0,idahorrodis:0,idcreditodis:0,idacredis:"",idpagdis:"",colmena:"",grupo:"",fecha_aprov:"",fecha_disper:"",monto:0,importeletra:"",catPagSoc:[],idacredita:"",idacredi:"",acreditadoid:0,acreditaind:0,acreditadis:0,activoin:0,catAhoVol:[],catInver:[],idmov:0,saldoini:0,ingresos:0,egresos:0,saldofin:0,grantotalcorte:0,catDenomina:[],movcaja:0,icons1:"inverted circular search link icon",icons2:"inverted circular search link icon",icons3:"inverted circular search link icon",icons4:"inverted circular search link icon",catInverNum:[],numero:"",idcreditoinv:"",activoi:0,fecha:"",importe:"",dias:"",tasa:"",fechafin:"",interes:"",total:"",idinversion:"",veri:!1,actproy:0,importeproy:"",tasaproy:"",interesproy:"",totalproy:"",notavis:!1,idmovdet:0},a.handleonBlur=a.handleonBlur.bind(a),a.handleChangeOpc=a.handleChangeOpc.bind(a),a.handleClickUpdate=a.handleClickUpdate.bind(a),a.handleChangeTot=a.handleChangeTot.bind(a),a.handleCloseW=a.handleCloseW.bind(a),a}return _createClass(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,i=t.name;if(this.setState(_defineProperty({},i,a)),"idcolmena"===i){var r=this,n={url:base_url+"/api/CarteraV1/colmenas_grupos/"+a,type:"GET",dataType:"json"};ajax(n).then(function(e){r.setState({catGrupos:e.result})},function(e){r.setState({message:validaError(e).message,statusmessage:"ui negative floating message"})})}else if("idgrupo"==i){var s=a;if("0"==s||""==s)this.setState({catPagares:[],totalxpagar:0,totalcompara:0});else{var o=this,l={url:base_url+"/api/CarteraV1/amortiza/"+s,type:"GET",dataType:"json"};ajax(l).then(function(e){o.setState({catPagares:e.result,totalxpagar:e.totalxpagar,totalcompara:0,message:e.message,statusmessage:"ui positive floating message "}),o.setState({notavis:e.falta}),o.autoReset(),o.saldoCaja()},function(e){o.setState({catPagares:[],grantotal:0,totalcompara:0,message:validaError(e).message,statusmessage:"ui negative floating message",notavis:!1}),o.autoReset()})}}else if("idpagdis"==i){var c=this.state.idacredis,d=this.state.catPagDis.filter(function(e){return e.value==a&&e.idacreditado==c});""!=d?this.setState({colmena:d[0].nomcolmena,grupo:d[0].nomgrupo,fecha_aprov:d[0].fecha_aprov,fecha_disper:d[0].fecha_dispersa,monto:numeral(d[0].monto).format("0,0.00"),idahorrodis:d[0].idahorro,numero_cuenta:d[0].numero_cuenta}):this.setState({colmena:"",grupo:"",fecha_aprov:"",monto:0,idahorrodis:0,numero_cuenta:""})}else if("tipoapor"==i&&"10"==a){var m=this,u={url:base_url+"api/generalv1/bancosall",type:"GET",dataType:"json"};ajax(u).then(function(e){m.setState({catBancos:e.result,idbancodetapor:""});$(".get.disper form").form("set values",{idbancodetapor:""})},function(e){validaError(e)})}else if("numero"==i){var h=this.state.idcreditoinv,p=this.state.catInverNum.filter(function(e){return e.value==a&&e.idacreditado==h});if(""!=p){var v=moment(p[0].fecha).format("DD/MM/YYYY"),f=moment(p[0].fechafin).format("DD/MM/YYYY");this.setState({fecha:v,importe:p[0].importe,dias:p[0].dias,tasa:p[0].tasa,interes:p[0].interes,fechafin:f,total:p[0].total,idinversion:p[0].idinversion})}else this.setState({colmena:"",grupo:"",fecha_aprov:"",monto:0,idahorrodis:0,numero_cuenta:""})}else if("movcaja"==i){var g=this,R={url:base_url+"api/carteraV1/getDenomina",type:"GET",dataType:"json"};ajax(R).then(function(e){g.setState({catDenomina:e.result});$(".get.disper form").form("set values",{idbancodetapor:""})},function(e){validaError(e)})}var b=0;if("diasproy"==i||"importeproy"==i){var y="",E=this.state.importeproy;if("diasproy"==i?y=a:(y=this.state.diasproy,"importeproy"==i&&(E=a)),0!=(E=parseFloat(E.replace(",","")))){var C=this.state.catInteres.filter(function(e){return E>e.monto});if(C.length>0){var N=(C=C[C.length-1])[y];this.setState({tasaproy:N}),b=N}else this.setState({tasaproy:0})}else this.setState({tasaproy:0})}if("importeproy"==i||"diasproy"==i||"tasaproy"==i){var _=this.state.importeproy,k=this.state.diasproy;if("importeproy"==i?_=a:"diasproy"==i?k=a:"tasaproy"==i&&(b=a),0!=_&&0!=b){var S=numeral(parseFloat(_.replace(",",""))*k*(b/100)/360).format("0,0.00");this.setState({interesproy:S,totalproy:parseFloat(_.replace(",",""))+parseFloat(S.replace(",",""))})}}}},{key:"handleonBlur",value:function(e){var t=e.target,a=t.value,i=t.name,r=numeral(a).format("0,0.00");this.setState(_defineProperty({},i,r))}},{key:"componentWillMount",value:function(){var e=$("#csrf").val();this.setState({csrf:e}),$.ajax({url:base_url+"/api/CarteraV1/colmenas",type:"GET",dataType:"json",success:function(e){this.setState({catColmenas:e.result})}.bind(this),error:function(e,t,a){console.log("error")}.bind(this)}),$.ajax({url:base_url+"/api/GeneralV1/getPlazos",type:"GET",dataType:"json",success:function(e){this.setState({catPlazos:e.cat_plazos,catInteres:e.cat_interes})}.bind(this),error:function(e,t,a){console.log("error")}.bind(this)}),this.saldoCaja()}},{key:"saldoCaja",value:function(){var e={url:base_url+"api/CarteraV1/getSaldoCaja",type:"GET",dataType:"json"},t=this;ajax(e).then(function(e){0!=e.result?(null==e.result[0].fecfinal&&e.result[0].saldo>0?-1==t.state.stepno?t.setState({stepno:0}):t.setState({idmovdet:e.result[0].idmovdet}):t.setState({stepno:-1,idmovdet:e.result[0].idmovdet}),t.setState({idmov:e.result[0].idmov,saldoini:e.result[0].depositos,ingresos:e.result[0].ingresos,egresos:parseFloat(e.result[0].egresos)+parseFloat(e.result[0].retiros),saldofin:e.result[0].saldocaja})):t.setState({stepno:-1})},function(e){validaError(e)})}},{key:"handleSubmit",value:function(e){e.preventDefault(),$(".ui.form.formgen").form({inline:!0,on:"blur",fields:{fecha_pago:{identifier:"fecha_pago",rules:[{type:"empty",prompt:"Seleccione la fecha"}]},totalcompara:{identifier:"totalcompara",rules:[{type:"empty",prompt:"Requiere un valor"}]},grantotal:{identifier:"grantotal",rules:[{type:"empty",prompt:"Requiere un valor"}]},match:{identifier:"totalcompara",rules:[{type:"match[grantotal]",prompt:"Importes diferentes!"}]}}}),$(".ui.form.formgen").form("validate form");var t=$(".ui.form.formgen").form("is valid");if(0==this.state.totalcompara&&0==this.state.totalxpagar&&(t=!1),this.setState({message:"",statusmessage:"ui message hidden"}),1==t){var a=$(".get.soling form"),i=a.form("get values"),r=a.form("get value","csrf_bancomunidad_token"),n=this;$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/ColmenasV1/add_aplica",type:"PUT",dataType:"json",data:{csrf_bancomunidad_token:r,data:i}};ajax(e).then(function(e){n.setState({catPagares:[],idgrupo:0,csrf:e.newtoken,message:e.message,statusmessage:"ui positive floating message ",totalxpagar:0,totalcompara:0}),n.autoReset(),n.saldoCaja();$(".get.soling form").form("set values",{idgrupo:"0"})},function(e){var t=validaError(e);n.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),n.autoReset()})}}).modal("show")}else this.setState({message:"Datos incompletos!",statusmessage:"ui negative floating message"}),this.autoReset()}},{key:"handleSubmitSol",value:function(){event.preventDefault(),$(".ui.form.formapo").form({inline:!0,on:"blur",fields:{idacredi:{identifier:"idacredi",rules:[{type:"empty",prompt:"Requiere un valor"}]},movapor:{identifier:"movapor",rules:[{type:"empty",prompt:"Requiere un valor"}]},tipoapor:{identifier:"tipoapor",rules:[{type:"empty",prompt:"Requiere un valor"}]},imporapor:{identifier:"imporapor",rules:[{type:"number",prompt:"Requiere un valor numérico"},{type:"integer[1..5000]",prompt:"Requiere un valor mayor a cero"}]},idbancodetapor:{identifier:"idbancodetapor",rules:[{type:"empty",prompt:"Requiere un valor"}]},cheque_refapor:{identifier:"cheque_refapor",rules:[{type:"empty",prompt:"Requiere un valor"}]},afavorapor:{identifier:"afavorapor",rules:[{type:"empty",prompt:"Requiere un valor"}]}}}),$(".ui.form.formapo").form("validate form");var e=$(".ui.form.formapo").form("is valid");if(this.setState({message:"",statusmessage:"ui hidden message"}),1==e){var t=$(".get.aposol form"),a=t.form("get values"),i=t.form("get value","csrf_bancomunidad_token"),r=this,n=this.state.acreditadoid;$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/aportasoc/"+n,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:i,data:a}};ajax(e).then(function(e){r.setState({nombrea:"",cheque_refapor:"",afavorapor:"",imporapor:0,idacredi:"",acreditadoid:0,csrf:e.newtoken,message:e.message,statusmessage:"ui positive floating message ",activoap:0});$(".get.soling form").form("set values",{idpagdis:""});r.autoReset(),r.saldoCaja()},function(e){var t=validaError(e);r.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),r.autoReset()})}}).modal("show")}else this.setState({message:"Datos incompletos!",statusmessage:"ui negative floating message"}),this.autoReset()}},{key:"handleSubmitDis",value:function(e){e.preventDefault(),$(".ui.form.formdis").form({inline:!0,on:"blur",fields:{idacredis:{identifier:"idacredis",rules:[{type:"empty",prompt:"Requiere un valor"}]},idpagdis:{identifier:"idpagdis",rules:[{type:"empty",prompt:"Requiere un valor"}]},colmena:{identifier:"colmena",rules:[{type:"empty",prompt:"Requiere un valor"}]},grupo:{identifier:"grupo",rules:[{type:"empty",prompt:"Requiere un valor"}]},fecha_aprov:{identifier:"fecha_aprov",rules:[{type:"empty",prompt:"Requiere un valor"}]},fecha_disper:{identifier:"fecha_disper",rules:[{type:"empty",prompt:"Requiere un valor"}]},numero_cuenta:{identifier:"numero_cuenta",rules:[{type:"empty",prompt:"Requiere un valor"}]},monto:{identifier:"monto",rules:[{type:"empty",prompt:"Requiere un valor"}]}}}),$(".ui.form.formdis").form("validate form");var t=$(".ui.form.formdis").form("is valid"),a=this.state.idacredis,i=this.state.idpagdis;if(""==this.state.catPagDis.filter(function(e){return e.value==i&&e.idacreditado==a})&&(this.setState({colmena:"",grupo:"",fecha_aprov:"",fecha_disper:"",monto:0,numero_cuenta:""}),t=!1),0==this.state.monto&&(t=!1),this.setState({message:"",statusmessage:"ui hidden message"}),1==t){var r=$(".get.disper form"),n=r.form("get values"),s=r.form("get value","csrf_bancomunidad_token"),o=this,l=this.state.idcreditodis;$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/cred_entrega/"+l,type:"PUT",dataType:"json",data:{csrf_bancomunidad_token:s,data:n}};ajax(e).then(function(e){var t=o.state.idpagdis,a=o.state.catPagDis.filter(function(e){return e.value!=t});o.setState({idpagare:"",csrf:e.newtoken,message:e.message,statusmessage:"ui positive floating message ",catPagDis:a,monto:0,colmena:"",grupo:"",fecha_aprov:"",fecha_disper:"",idahorrodis:0,numero_cuenta:""});$(".get.soling form").form("set values",{idpagdis:""});o.autoReset(),o.saldoCaja()},function(e){var t=validaError(e);o.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),o.autoReset()})}}).modal("show")}else this.setState({message:"Datos incompletos!",statusmessage:"ui negative floating message"}),this.autoReset()}},{key:"handleSubmitInv",value:function(e){e.preventDefault(),$(".ui.form.forminv").form({inline:!0,on:"blur",fields:{fecha:{identifier:"fecha",rules:[{type:"empty",prompt:"Seleccione la fecha"}]},importe:{identifier:"importe",rules:[{type:"empty",prompt:"Requiere un valor"}]},dias:{identifier:"dias",rules:[{type:"empty",prompt:"Requiere un valor"}]},tasa:{identifier:"tasa",rules:[{type:"empty",prompt:"Requiere un valor"}]},interes:{identifier:"interes",rules:[{type:"empty",prompt:"Requiere un valor"}]},fechafin:{identifier:"fechafin",rules:[{type:"empty",prompt:"Requiere un valor"}]},total:{identifier:"total",rules:[{type:"empty",prompt:"Requiere un valor"}]}}}),$(".ui.form.forminv").form("validate form");var t=$(".ui.form.forminv").form("is valid");if(this.setState({message:"",statusmessage:"ui hidden message"}),1==t){var a=$(".get.solinver form"),i=a.form("get values"),r=a.form("get value","csrf_bancomunidad_token"),n=this,s=this.state.idcreditoinv;$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/update_inversion/"+s,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:r,data:i}};ajax(e).then(function(e){var t=n.state.numero,a=n.state.catInverNum.filter(function(e){return e.value!=t});n.setState({csrf:e.newtoken,message:e.message,statusmessage:"ui positive floating message ",fecha:"",importe:"",dias:"",tasa:"",interes:"",fechafin:"",total:"",numero:"",idinversion:"",activo:0,catInverNum:a,activoi:0});$(".get.solinver form").form("set values",{numero:""});n.autoReset(),n.saldoCaja()},function(e){var t=validaError(e);n.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),n.autoReset()})}}).modal("show")}else this.setState({message:"Datos incompletos!",statusmessage:"ui negative floating message"}),this.autoReset()}},{key:"handleSubmitCorte",value:function(){event.preventDefault();var e=[];"C"==this.state.movcaja&&(e={identifier:"saldofin",rules:[{type:"match[grantotalcorte]",prompt:"Importes diferentes!"}]}),$(".ui.form.formcaj").form({inline:!0,on:"blur",fields:{movcaja:{identifier:"movcaja",rules:[{type:"empty",prompt:"Seleccione un movimiento"}]},saldofin:{identifier:"saldofin",rules:[{type:"empty",prompt:"Requiere un valor"}]},grantotalcorte:{identifier:"grantotalcorte",rules:[{type:"empty",prompt:"Requiere un valor"}]},match:e}}),$(".ui.form.formcaj").form("validate form");var t=$(".ui.form.formcaj").form("is valid"),a="Datos incompletos";if(0!=this.state.saldofin&&0!=this.state.grantotalcorte&&"0"!=this.state.movcaja||(t=!1),"N"==this.state.movcaja&&this.state.saldofin==this.state.grantotalcorte&&(t=!1,a="Importes iguales, movimiento que aplica es un Cierre de Caja!"),this.setState({message:"",statusmessage:"ui hidden message"}),1==t){var i=$(".get.discaja form"),r=i.form("get values"),n=i.form("get value","csrf_bancomunidad_token"),s=this,o=this.state.idmov;$(".mini.modal").modal({closable:!1,onApprove:function(){var e={url:base_url+"api/CarteraV1/add_caja/"+o,type:"POST",dataType:"json",data:{csrf_bancomunidad_token:n,data:r}};ajax(e).then(function(e){s.setState({csrf:e.newtoken,message:e.message,statusmessage:"ui positive floating message ",movcaja:"0",idmovdet:e.registros}),"C"==s.state.movcaja?s.setState({message:e.message,step:-1}):s.setState({message:"Nota de Cierre realizado exitosamente!"}),s.setState({csrf:e.newtoken,statusmessage:"ui positive floating message ",movcaja:"0"});$(".get.discaja form").form("set values",{movcaja:"0"});s.autoReset(),s.saldoCaja()},function(e){var t=validaError(e);s.setState({csrf:t.newtoken,message:t.message,statusmessage:"ui negative floating message"}),s.autoReset()})}}).modal("show")}else this.setState({message:a,statusmessage:"ui negative floating message"}),this.autoReset()}},{key:"handleClickItem",value:function(e){this.state.stepno>=0&&(this.setState({stepno:e}),this.setState({message:"",statusmessage:"ui floating hidden message"}))}},{key:"handleCloseW",value:function(){this.setState({veri:!1})}},{key:"obtenerDatos",value:function(e){var t=this.state.acreditaind,a="getCreditos/";2==e?a="getCtaAhorros/":3==e&&(a="getInversiones/");var i={url:base_url+"api/CarteraV1/"+a+t,type:"GET",dataType:"json"},r=this;ajax(i).then(function(t){1==e?r.setState({catPagSoc:t.result}):2==e?r.setState({catAhoVol:t.result}):3==e&&r.setState({catInver:t.result})},function(t){1==e?r.setState({catPagSoc:[]}):2==e?r.setState({catAhoVol:[]}):3==e&&r.setState({catInver:[]}),r.setState({message:validaError(t).message,statusmessage:"ui negative floating message"})})}},{key:"handleClickUpdate",value:function(e,t,a,i){void 0!=i&&this.setState({csrf:i}),this.setState({message:t,statusmessage:a}),this.autoReset(),0!=e&&(this.obtenerDatos(e),this.saldoCaja())}},{key:"handleClickOpc",value:function(e){""!=this.state.idacredita&&this.obtenerDatos(e)}},{key:"handleSubmitind",value:function(){}},{key:"handleChangeTot",value:function(e){this.setState({grantotalcorte:e})}},{key:"handleChangeOpc",value:function(e,t){this.setState({stepOpc:t})}},{key:"handleFind",value:function(e,t,a){var i="";if(this.setState(_defineProperty({},a,t)),"idacredi"==a||"idacredita"==a?i="findAcre/"+t:"idacredis"==a?i="getCreditosxDis/"+t:"idacreinv"==a&&(i="getInversionxDis/"+t),""!=i){var r="spinner circular inverted blue loading icon",n=this,s={url:base_url+"api/carteraV1/"+i,type:"GET",dataType:"json"};"idacredi"==a?this.setState({icons1:r}):"idacredita"==a?this.setState({icons2:r}):"idacredis"==a?this.setState({icons3:r}):"idacreinv"==a&&this.setState({icons4:r}),ajax(s).then(function(e){var t,i="nombred",r="acreditadis";if("idacredita"==a?(i="nombre",r="acreditaind"):"idacredi"==a?(i="nombrea",r="acreditadoid"):"idacreinv"==a&&(i="nombrei",r="acreditainv"),n.setState((_defineProperty(t={},i,e.result[0].nombre),_defineProperty(t,r,e.result[0].acreditadoid),_defineProperty(t,"message",""),_defineProperty(t,"statusmessage","ui message hidden"),_defineProperty(t,"icons1","inverted circular search link icon"),_defineProperty(t,"icons2","inverted circular search link icon"),_defineProperty(t,"icons3","inverted circular search link icon"),_defineProperty(t,"icons4","inverted circular search link icon"),t)),"idacredi"==a&&n.setState({activoap:1}),"idacredis"==a&&n.setState({catPagDis:e.result,idcreditodis:e.result[0].idcredito,activoc:1}),"idacredita"==a&&n.setState({activoin:1}),"idacreinv"==a){n.setState({catInverNum:e.result,idcreditoinv:e.result[0].idacreditado,activoi:1});$(".get.solinver form").form("set values",{numero:""})}},function(e){var t=validaError(e);if("idacredis"==a){n.setState({catPagDis:[],colmena:"",grupo:"",fecha_aprov:"",fecha_disper:"",monto:0,numero_cuenta:"",importeletra:"",nombred:"",message:"Acreditado sin pagares por dispersar",statusmessage:"ui negative floating message"});$(".get.disper form").form("set values",{idpagare:""})}else if("idacreinv"==a){n.setState({catInverNum:[],nombrei:"",message:"Acreditado sin pagares por dispersar",statusmessage:"ui negative floating message",fecha:"",importe:"",dias:"",tasa:"",fechafin:"",interes:"",total:"",idinversion:""});$(".get.solinver form").form("set values",{numero:""})}else n.setState({message:t.message,statusmessage:"ui negative floating message"}),"idacredi"==a&&n.setState({nombrea:""});n.setState({icons1:"inverted circular search link icon",icons2:"inverted circular search link icon",icons3:"inverted circular search link icon",icons4:"inverted circular search link icon"}),n.autoReset()})}}},{key:"autoReset",value:function(){var e=this;window.clearTimeout(e.timeout),this.timeout=window.setTimeout(function(){e.setState({message:"",statusmessage:"ui message hidden"})},5e3)}},{key:"handleButton",value:function(e){var t=void 0;if(50!=e)if(-10!=e)if(30!=e)if(40!=e)if(410!=e)if(414!=e){if(51==e){if(0==this.state.idmovdet)return;t="ReportV1/bovedarep/"+this.state.idmovdet}else 52==e&&(t="ReportV1/cajamov");var a=document.createElement("a");a.href=base_url+"api/"+t,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}else 0==this.state.actproy?this.setState({actproy:1}):this.setState({actproy:0});else{this.setState({catInverNum:[],activoi:0,fecha:"",importe:"",dias:"",tasa:"",fechafin:"",interes:"",total:"",idinversion:""});$(".get.solinver form").form("set values",{numero:""})}else{this.setState({catPagDis:[],nombred:"",activoc:0,colmena:"",grupo:"",fecha_aprov:"",fecha_disper:"",monto:"",importeletra:"",numero_cuenta:""});$(".get.disper form").form("set values",{idpagdis:""})}else this.setState({activoin:0,catAhoVol:[],catPagSoc:[],catInver:[]});else this.setState({activoap:0,imporapor:"",cheque_refapor:"",afavorapor:""});else this.saldoCaja()}},{key:"render",value:function(){var e=this,t=numeral(this.state.saldoini).format("0,0.00"),a=numeral(this.state.egresos).format("0,0.00"),i=numeral(this.state.ingresos).format("0,0.00"),r=numeral(this.state.saldofin).format("0,0.00"),n=null;"R"==this.state.movapor&&"10"==this.state.tipoapor?n=React.createElement("div",{className:"fields"},React.createElement(SelectOption,{id:"idbancodetapor",cols:"three wide",label:"Banco",valor:this.state.idbancodetapor,valores:this.state.catBancos,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"cheque_refapor",cols:"two wide",label:"No de Cheque",valor:this.state.cheque_refapor,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"afavorapor",cols:"eleven wide",label:"A favor de",valor:this.state.afavorapor,onChange:this.handleInputChange.bind(this)})):"D"==this.state.movapor&&"10"==this.state.tipoapor&&(n=React.createElement("div",{className:"fields"},React.createElement(InputField,{id:"cheque_refapor",cols:"three wide",label:"Referencia",valor:this.state.cheque_refapor,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"afavorapor",cols:"six wide",label:"Banco",valor:this.state.afavorapor,onChange:this.handleInputChange.bind(this)})));var s=null;return 0!=this.state.saldoini&&0==this.state.saldofin&&(s=React.createElement("div",null,"Cierre realizado!")),React.createElement("div",{className:"ui grid"},React.createElement("div",{className:"two wide column"},React.createElement("div",{className:"overlay fixed",style:{position:"fixed",top:"80px",left:"auto"}},React.createElement("div",{className:"ui labeled icon vertical menu letra"},React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,1)},React.createElement("i",{className:"check mark box icon grey color"})," A. Social"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,2)},React.createElement("i",{className:"cubes icon grey color"})," Colmenas"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,3)},React.createElement("i",{className:"cube icon grey color"})," Individual"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,4)},React.createElement("i",{className:"user icon grey color"})," Créditos"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,41)},React.createElement("i",{className:"suitcase icon grey color"})," Inversiones"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,42)},React.createElement("i",{className:"world icon grey color"})," Remesas"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,43)},React.createElement("i",{className:"umbrella icon grey color"})," Seguros"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,44)},React.createElement("i",{className:"talk outline icon grey color"})," Servicios"),React.createElement("a",{className:"item",onClick:this.handleClickItem.bind(this,5)},React.createElement("i",{className:"calculator icon grey color"})," Corte Caja")))),React.createElement("div",{className:"thirteen wide column"},React.createElement("div",{className:-1==this.state.stepno?"main ui intro top":"main ui intro hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("div",{className:"ui basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Devolución a Caja"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,51)})),React.createElement("button",{className:"ui button","data-tooltip":"Movimiento del día"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,52)})))),React.createElement("div",{className:"ui inverted red segment"},React.createElement("div",{className:"ui header"},"Caja cerrada."),React.createElement("div",{className:"ui subheader"},"Es necesario abrirla para realizar operaciones. Error CX001"),s))),React.createElement("div",{className:this.state.statusmessage},React.createElement("p",null,React.createElement("b",null,this.state.message)),React.createElement("i",{className:"close icon",onClick:function(t){return e.setState({message:"",statusmessage:"ui message hidden"})}})),React.createElement("div",{className:1===this.state.stepno?"main ui intro  top":"main ui intro  hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Aportación Social")),React.createElement("div",{className:"ui basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Nuevo Registro"},React.createElement("i",{className:"plus square outline icon",onClick:this.handleButton.bind(this,-10)})),React.createElement("button",{className:"ui button","data-tooltip":"Formato PDF"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,-11)})))),React.createElement("div",{className:"get aposol"},React.createElement("form",{className:"ui form formapo",ref:"form",onSubmit:this.handleSubmitSol.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:1===this.state.activoap?"disablediv":""},React.createElement("div",{className:"two fields"},React.createElement(InputFieldFind,{icons:this.state.icons1,id:"idacredi",name:"idacredi",valor:this.state.idacredi,cols:"three wide",label:"Acreditado",placeholder:"Buscar",onChange:this.handleInputChange.bind(this),onClick:this.handleFind.bind(this)}),React.createElement(InputField,{id:"nombrea",label:"Nombre",cols:"eleven wide",readOnly:"readOnly",valor:this.state.nombrea,onChange:this.handleInputChange.bind(this)}))),React.createElement("div",{className:0===this.state.activoap?"disablediv":""},React.createElement("div",{className:"fields"},React.createElement(SelectOption,{id:"movapor",cols:"three wide",label:"Movimiento",valor:this.state.movapor,valores:[{name:"Ingreso",value:"D"},{name:"Egreso",value:"R"}],onChange:this.handleInputChange.bind(this)}),React.createElement(SelectOption,{id:"tipoapor",cols:"three wide",label:"Tipo",valor:this.state.tipoapor,valores:[{name:"Efectivo",value:"01"},{name:"Cheque",value:"10"}],onChange:this.handleInputChange.bind(this)}),React.createElement(InputFieldNumber,{id:"imporapor",cols:"three wide",label:"Importe",valor:this.state.imporapor,onChange:this.handleInputChange.bind(this)})),n,React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"}),"Enviar"))))))),React.createElement("div",{className:2===this.state.stepno?"main ui intro  top":"main ui intro  hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Aplicación de pagos Grupal"))),React.createElement("div",{className:"get soling"},React.createElement("form",{className:"ui form formgen",ref:"form",onSubmit:this.handleSubmit.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:"fields"},React.createElement(SelectDropDown,{name:"idcolmena",cols:"five wide",id:"idcolmena",label:"Colmena",valor:this.state.idcolmena,valores:this.state.catColmenas,onChange:this.handleInputChange.bind(this)}),React.createElement(SelectOption,{name:"idgrupo",cols:"three wide",id:"idgrupo",label:"Grupo",valor:this.state.idgrupo,valores:this.state.catGrupos,onChange:this.handleInputChange.bind(this)}),React.createElement(Calendar,{name:"fecha_pago",cols:"three wide",label:"Fecha",valor:this.state.fecha_pago,onChange:this.handleInputChange.bind(this)})),React.createElement(Nota,{visible:this.state.notavis}),React.createElement(Mensaje,null),React.createElement("div",{id:"pagares",className:"row"},React.createElement("div",{className:"row"},React.createElement("div",{className:"four fields"},React.createElement(InputFieldNumber,{id:"totalcompara",label:"Total Pago",valor:this.state.totalcompara,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur})),React.createElement(Table,{datos:this.state.catPagares,totalxpagar:this.state.totalxpagar}),React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:!0===this.state.notavis?"ui submit bottom primary basic button disabled":"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"}),"Enviar")))))))),React.createElement("div",{className:3===this.state.stepno?"main ui intro  top":"main ui intro  hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Movimientos de acreditado")),React.createElement("div",{className:"ui basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Nuevo Registro"},React.createElement("i",{className:"plus square outline icon",onClick:this.handleButton.bind(this,30)})),React.createElement("button",{className:"ui button","data-tooltip":"Formato PDF"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,31)})))),React.createElement("div",{className:"get ind"},React.createElement("form",{className:"ui form formind",ref:"form",onSubmit:this.handleSubmitind.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:1===this.state.activoin?"disablediv":""},React.createElement("div",{className:"two fields"},React.createElement(InputFieldFind,{icons:this.state.icons2,dataid:this.state.acreditaind,id:"idacredita",name:"idacredita",valor:this.state.idacredita,cols:"three wide",label:"Acreditado",placeholder:"Buscar",onChange:this.handleInputChange.bind(this),onClick:this.handleFind.bind(this)}),React.createElement(InputField,{id:"nombre",label:"Nombre",cols:"eleven wide",readOnly:"readOnly",valor:this.state.nombre,onChange:this.handleInputChange.bind(this)}))),React.createElement("br",null),React.createElement("div",{className:0===this.state.activoin?"disablediv":""},React.createElement("div",{className:0==this.state.stepOpc||3==this.state.stepOpc?"ui row ":"ui row hidden"},React.createElement("h5",{className:"ui horizontal divider header"},React.createElement("i",{className:"search mini icon link",onClick:this.handleClickOpc.bind(this,1)})," Créditos "),React.createElement("div",{className:"row"},React.createElement(TableGlob,{name:"pagares",csrf:this.state.csrf,datos:this.state.catPagSoc,enca:["idcredito","idahorro","No. Pagaré","Importe","Pagos","Saldo","Cta. Ahorro","Monto","Acciones"],onChange:this.handleChangeOpc,onClick:this.handleClickUpdate}))),React.createElement("br",null),React.createElement("div",{className:0==this.state.stepOpc||1==this.state.stepOpc?"ui row":"ui row hidden"},React.createElement("h5",{className:"ui horizontal divider header"},React.createElement("i",{className:"search icon link",onClick:this.handleClickOpc.bind(this,2)})," Ahorros "),React.createElement("div",{className:"row"},React.createElement(TableGlob,{name:"voluntario",csrf:this.state.csrf,datos:this.state.catAhoVol,enca:["idahorro","Cta. Ahorro","Último Depósito","Último Retiro","Acciones"],onChange:this.handleChangeOpc,onClick:this.handleClickUpdate}))),React.createElement("div",{className:0==this.state.stepOpc||2==this.state.stepOpc?"ui row":"ui row hidden"},React.createElement("h5",{className:"ui horizontal divider header"}," ",React.createElement("i",{className:"search icon link",onClick:this.handleClickOpc.bind(this,3)})," Inversiones "),React.createElement("div",{className:"row"},React.createElement(TableGlob,{name:"inversiones",csrf:this.state.csrf,catPlazos:this.state.catPlazos,catInteres:this.state.catInteres,datos:this.state.catInver,enca:["Número","Fec.Ini","Fec.Ter","Acciones"],onChange:this.handleChangeOpc,onClick:this.handleClickUpdate}))),React.createElement("br",null))))),React.createElement("div",{className:4===this.state.stepno?"main ui intro  top":"main ui intro  hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Entrega de créditos")),React.createElement("div",{className:"ui basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Nuevo Registro"},React.createElement("i",{className:"plus square outline icon",onClick:this.handleButton.bind(this,40)})),React.createElement("button",{className:"ui button","data-tooltip":"Formato PDF"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,41)})))),React.createElement("div",{className:"get disper"},React.createElement("form",{className:"ui form formdis",ref:"form",onSubmit:this.handleSubmitDis.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:"fields"},React.createElement(InputFieldFind,{icons:this.state.icons3,id:"idacredis",cols:"three wide",mayuscula:"true",name:"idacredis",valor:this.state.idacredis,label:"Acreditado",placeholder:"Buscar",onChange:this.handleInputChange.bind(this),onClick:this.handleFind.bind(this)}),React.createElement(InputField,{id:"nombred",cols:"thirteen wide",label:"Nombre",readOnly:"readOnly",valor:this.state.nombred,onChange:this.handleInputChange.bind(this)})),React.createElement("div",{className:0===this.state.activoc?"disablediv":""},React.createElement("div",{className:"fields"},React.createElement(SelectOption,{id:"idpagdis",cols:"three wide",label:"Pagaré",valor:this.state.idpagdis,valores:this.state.catPagDis,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"colmena",cols:"five wide",label:"Colmena",readOnly:"readOnly",valor:this.state.colmena,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"grupo",cols:"two wide",label:"Grupo",readOnly:"readOnly",valor:this.state.grupo,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"fecha_aprov",cols:"three wide",label:"Fec. aprobación",readOnly:"readOnly",valor:this.state.fecha_aprov,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"fecha_disper",cols:"three wide",label:"Fec. dispersión",readOnly:"readOnly",valor:this.state.fecha_disper,onChange:this.handleInputChange.bind(this)})),React.createElement("div",{className:"fields"},React.createElement(InputFieldNumber,{id:"monto",label:"Monto",readOnly:"readOnly",valor:this.state.monto,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}),React.createElement(InputField,{id:"importeletra",cols:"ten wide",label:"Importe en Letra",readOnly:"readOnly",valor:this.state.importeletra,onChange:this.handleInputChange.bind(this)}),React.createElement("input",{id:"idahorrodis",readOnly:"readOnly",name:"idahorrodis",type:"hidden",value:this.state.idahorrodis}),React.createElement(InputField,{id:"numero_cuenta",readOnly:"readOnly",cols:"three wide",label:"Cuenta ",valor:this.state.numero_cuenta,onChange:this.handleInputChange.bind(this)})),React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"})," Enviar "))))))),React.createElement("div",{className:41===this.state.stepno?"main ui intro  top":"main ui intro  hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Recepción de inversiones")),React.createElement("div",{className:"ui basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Nuevo Registro"},React.createElement("i",{className:"plus square outline icon",onClick:this.handleButton.bind(this,410)})),React.createElement("button",{className:"ui button","data-tooltip":"Formato PDF"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,411)}))),React.createElement("div",{className:"ui basic right floated icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Proyección"},React.createElement("i",{className:"list icon",onClick:this.handleButton.bind(this,414)})))),React.createElement("div",{className:"get solinver"},React.createElement("form",{className:"ui form forminv",ref:"form",onSubmit:this.handleSubmitInv.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:1===this.state.activoi?"disablediv":""},React.createElement("div",{className:"fields"},React.createElement(InputFieldFind,{icons:this.state.icons4,id:"idacreinv",cols:"three wide",mayuscula:"true",name:"idacreinv",valor:this.state.idacreinv,label:"Acreditado",placeholder:"Buscar",onChange:this.handleInputChange.bind(this),onClick:this.handleFind.bind(this)}),React.createElement(InputField,{id:"nombrei",cols:"thirteen wide",label:"Nombre",readOnly:"readOnly",valor:this.state.nombrei,onChange:this.handleInputChange.bind(this)}))),React.createElement("div",{className:0===this.state.activoi?"disablediv":""},React.createElement("div",{className:"fields"},React.createElement(SelectOption,{id:"numero",cols:"three",label:"Número",valor:this.state.numero,valores:this.state.catInverNum,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"fecha",label:"Fecha",cols:"four",readOnly:"readOnly",valor:this.state.fecha,onChange:this.handleInputChange.bind(this)}),React.createElement(InputFieldNumber,{id:"importe",cols:"four",readOnly:"readOnly",label:"Importe",valor:this.state.importe,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}),React.createElement(InputField,{id:"dias",label:"Dias",cols:"two",readOnly:"readOnly",valor:this.state.dias,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"tasa",label:"Tasa",cols:"two",readOnly:"readOnly",valor:this.state.tasa,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"interes",cols:"four",readOnly:"readOnly",label:"Interes",valor:this.state.interes,onChange:this.handleInputChange.bind(this)})),React.createElement("div",{className:"fields"},React.createElement(InputField,{id:"fechafin",cols:"three",readOnly:"readOnly",label:"Fecha vencimiento",valor:this.state.fechafin,onChange:this.handleInputChange.bind(this)}),React.createElement(InputFieldNumber,{id:"total",cols:"three",readOnly:"readOnly",label:"Total",valor:this.state.total,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}),React.createElement("input",{type:"hidden",name:"idinversion",value:this.state.idinversion,onChange:this.handleInputChange.bind(this)})),React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"})," Enviar ")))))),React.createElement("div",{className:1===this.state.actproy?"":"hidden"},React.createElement("form",{className:"ui form proyeccion"},React.createElement("div",{className:"fields"},React.createElement(InputFieldNumber,{id:"importeproy",cols:"four wide",label:"Importe",valor:this.state.importeproy,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}),React.createElement(SelectOption,{id:"diasproy",cols:"two wide",label:"Plazo",valor:this.state.diasproy,valores:this.state.catPlazos,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"tasaproy",label:"Tasa",cols:"two wide",readOnly:"readOnly",valor:this.state.tasaproy,onChange:this.handleInputChange.bind(this)}),React.createElement(InputField,{id:"interesproy",cols:"four wide",readOnly:"readOnly",label:"Interes",valor:this.state.interesproy,onChange:this.handleInputChange.bind(this)}),React.createElement(InputFieldNumber,{id:"totalproy",cols:"three",readOnly:"readOnly",label:"Total",valor:this.state.totalproy,onChange:this.handleInputChange.bind(this),onBlur:this.handleonBlur}))))),React.createElement("div",{className:5===this.state.stepno?"main ui intro  top":"main ui intro  hidden"},React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Corte de Caja")),React.createElement("div",{className:"ui  basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Actualiza saldos"},React.createElement("i",{className:"refresh icon",onClick:this.handleButton.bind(this,50)})),React.createElement("button",{className:"ui button","data-tooltip":"Nota crédito"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,51)})),React.createElement("button",{className:"ui button","data-tooltip":"Movimientos del día"},React.createElement("i",{className:"file pdf outline icon",onClick:this.handleButton.bind(this,52)})))),React.createElement("div",{className:"get discaja"},React.createElement("form",{className:"ui form formcaj",ref:"form",onSubmit:this.handleSubmitCorte.bind(this),method:"post"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:"four fields"},React.createElement(InputFieldNum,{id:"saldoini",label:"Saldo Inicial",valor:t}),React.createElement(InputFieldNum,{id:"ingresos",label:"Ingresos",valor:i}),React.createElement(InputFieldNum,{id:"egresos",label:"Egresos",valor:a}),React.createElement(InputFieldNum,{id:"saldofin",label:"Saldo Final",valor:r})),React.createElement("div",{className:"four fields"},React.createElement(SelectOption,{id:"movcaja",cols:"three wide",label:"Movimiento",valor:this.state.movcaja,valores:[{name:"Nota de crédito",value:"N"},{name:"Cierre",value:"C"}],onChange:this.handleInputChange.bind(this)})),React.createElement(TableC,{datos:this.state.catDenomina,totalxpagar:this.state.totalxpagarc,onChange:this.handleChangeTot}),React.createElement("div",{className:"ui vertical segment right aligned"},React.createElement("div",{className:"field"},React.createElement("button",{className:"ui submit bottom primary basic button",type:"submit",name:"action"},React.createElement("i",{className:"send icon"})," Enviar "))))))))}}]),t}();ReactDOM.render(React.createElement(Captura,null),document.getElementById("root"));