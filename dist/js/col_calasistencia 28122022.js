"use strict";var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Lista(e){var t=e.enca,a=0,n=t.map(function(e){return React.createElement("th",{className:"two wide",key:a++},e)});return React.createElement("tr",null,n)}var DocumentoRow=function(e){function n(e){var t;_classCallCheck(this,n);var a=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return a.state=(_defineProperty(t={},nombre,!1),_defineProperty(t,"asistencia",a.props.valor.asistencia),_defineProperty(t,"incidencia",a.props.valor.incidencia),t),a}return _inherits(n,React.Component),_createClass(n,[{key:"render",value:function(){getWeekNo();return React.createElement("tr",null,React.createElement("td",{style:{width:"10%"},className:"text-center"},this.props.valor.fecpago),React.createElement("td",{style:{width:"5%"}},this.props.valor.semana),React.createElement("td",null,this.props.valor.nomasis),React.createElement("td",null,this.props.valor.nominci),React.createElement("td",{style:{width:"60%"}},this.props.valor.sancion))}}]),n}(),Catalogo=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var t=[];return this.props.valores.forEach(function(e){t.push(React.createElement(DocumentoRow,{valor:e,key:e.nombre}))}),React.createElement("div",{className:"ui grid"},React.createElement("div",{className:"column"},React.createElement("table",{className:"ui selectable celled blue table"},React.createElement("thead",null,React.createElement(Lista,{enca:["Fecha","Semana","Asistencia","Incidencia","Sancion"]})),React.createElement("tbody",null,t))))}}]),t}(),MultiSelect=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var e=this.props.valores.map(function(e){return React.createElement("option",{value:e.value},e.name)});return React.createElement("div",{className:"ten wide field"},React.createElement("label",null,this.props.label),React.createElement("select",{name:this.props.name,className:"ui fluid search dropdown selection multiple",multiple:""},React.createElement("option",{value:""},"Seleccione"),e))}}]),t}(),InputField=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var t=this,e=(void 0!==this.props.cols?this.props.cols:"")+" field ",a="true"==this.props.mayuscula?"mayuscula":"";return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui icon input"},React.createElement("input",{className:a,id:this.props.id,readOnly:this.props.readOnly,name:this.props.id,type:"text",value:this.props.valor,placeholder:this.props.placeholder,onChange:function(e){return t.props.onChange(e)}})))}}]),t}(),InputFieldFind=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={value:""},t}return _inherits(a,React.Component),_createClass(a,[{key:"render",value:function(){var t=this,e=(void 0!==this.props.cols?this.props.cols:"")+" field ";return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui icon input"},React.createElement("input",{id:this.props.id,name:this.props.id,value:this.props.valor,type:"text",placeholder:this.props.placeholder,onChange:function(e){return t.props.onChange(e)}}),React.createElement("i",{className:this.props.icons,onClick:function(e){return t.props.onClick(e,t.props.valor,t.props.id)}})))}}]),a}(),InputFieldNumber=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var t=this,e=(void 0!==this.props.cols?this.props.cols:"")+" field";return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui labeled input"},React.createElement("div",{className:"ui label"},"$"),React.createElement("input",{type:"text",id:this.props.id,name:this.props.id,readOnly:this.props.readOnly,value:this.props.valor,onChange:function(e){return t.props.onChange(e)},onBlur:function(e){return t.props.onBlur(e)}})))}}]),t}(),InputFieldNum=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var e=(void 0!==this.props.cols?this.props.cols:"")+" field";return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui labeled input"},React.createElement("div",{className:"ui label"},"$"),React.createElement("input",{type:"text",id:this.props.id,name:this.props.id,value:this.props.valor})))}}]),t}(),Mensaje=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={icon:"send icon",titulo:"Guardar",pregunta:"Â¿Desea enviar el registro?"},t}return _inherits(a,React.Component),_createClass(a,[{key:"render",value:function(){return React.createElement("div",{className:"ui mini test modal scrolling transition hidden"},React.createElement("div",{className:"ui icon header"},React.createElement("i",{className:this.state.icon}),this.state.titulo),React.createElement("div",{className:"center aligned content "},React.createElement("p",null,this.state.pregunta)),React.createElement("div",{className:"actions"},React.createElement("div",{className:"ui red cancel basic button"},React.createElement("i",{className:"remove icon"})," No "),React.createElement("div",{className:"ui green ok basic button"},React.createElement("i",{className:"checkmark icon"})," Si ")))}}]),a}(),Calendar=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleChange=t.handleChange.bind(t),t}return _inherits(a,React.Component),_createClass(a,[{key:"handleChange",value:function(e){}},{key:"componentDidMount",value:function(){$(ReactDOM.findDOMNode(this.refs.myCalen)).on("onChange",this.handleChange)}},{key:"render",value:function(){return React.createElement("div",{className:"ui calendar",id:this.props.name},React.createElement("div",{className:"field"},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui input left icon"},React.createElement("i",{className:"calendar icon"}),React.createElement("input",{ref:"myCalen",type:"text",name:this.props.name,id:this.props.name,value:this.props.valor,placeholder:"Fecha",onChange:this.handleChange}))))}}]),a}(),SelectDropDown=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={value:""},t.handleSelectChange=t.handleSelectChange.bind(t),t}return _inherits(a,React.Component),_createClass(a,[{key:"handleSelectChange",value:function(e){this.props.onChange(e),this.setState({value:e.target.value})}},{key:"componentDidMount",value:function(){$(ReactDOM.findDOMNode(this.refs.myDrop)).on("change",this.handleSelectChange)}},{key:"render",value:function(){var e=(void 0!==this.props.cols?this.props.cols:"")+" field ",t=this.props.valores.map(function(e){return React.createElement("div",{className:"item","data-value":e.value},e.name)});return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("div",{className:"ui fluid search selection dropdown"},React.createElement("input",{type:"hidden",ref:"myDrop",value:this.value,name:this.props.id,onChange:this.handleSelectChange}),React.createElement("i",{className:"dropdown icon"}),React.createElement("div",{className:"default text"},"Seleccione"),React.createElement("div",{className:"menu"},t)))}}]),a}(),SelectOption=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={value:""},t}return _inherits(a,React.Component),_createClass(a,[{key:"handleSelectChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=(void 0!==this.props.cols?this.props.cols:"")+" field ",t=this.props.valores.map(function(e){return React.createElement("option",{value:e.value,"data-cuenta":e.idcuenta},e.name)});return React.createElement("div",{className:e},React.createElement("label",null,this.props.label),React.createElement("select",{className:"ui fluid dropdown",ref:"myCombo",name:this.props.id,id:this.props.id,onChange:this.handleSelectChange.bind(this)},React.createElement("option",{value:this.props.valor},"Seleccione"),t))}}]),a}(),CheckBox=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var t=this,e="1"==this.props.valor?"ui checkbox checked":"ui checkbox";return React.createElement("div",{className:"field"},React.createElement("label",null,"Seleccione"),React.createElement("div",{className:"four fields"},React.createElement("div",{className:"ten wide inline field"},React.createElement("div",{className:e,onClick:function(e){return t.props.onClickCheck(e,t.props.name,t.props.valor)}},React.createElement("input",{type:"checkbox",value:1==this.props.valor?"on":"off",id:this.props.name,name:this.props.name,tabindex:"0",class:"hidden"}),React.createElement("label",null,this.props.titulo)))))}}]),t}(),Captura=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={catPagares:[],catCalifica:[],activo:0,idcredito:0,idacreditado:"",nombre:"",idpagare:"",colmena:"",grupo:"",fecha_entrega:"",monto:0,noxpcomprome:"",xpcomprometido:"",csrf:"",message:"",importe:0,importeletra:"",statusmessage:"ui floating hidden message",icons1:"inverted circular search link icon",catCuentas:[]},t.handleClickMessage=t.handleClickMessage.bind(t),t.handleonBlur=t.handleonBlur.bind(t),t}return _inherits(a,React.Component),_createClass(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;if(this.setState(_defineProperty({},n,a)),"idpagare"==n){this.setState({idpagare:a});var r=this,s={url:base_url+"api/ColmenasV1/getcalifica/"+a,type:"GET",dataType:"json"};ajax(s).then(function(e){r.setState({icons1:"inverted circular search link icon",catCalifica:e.califica}),console.log(e.califica)},function(e){validaError(e);r.setState({message:"Acreditado inexistente!",nombre:"",statusmessage:"ui negative floating message",icons1:"inverted circular search link icon"}),r.autoReset()})}}},{key:"handleonBlur",value:function(e){var t=e.target,a=t.value,n=t.name,r=numeral(a).format("0,0.00");this.setState(_defineProperty({},n,r))}},{key:"componentWillMount",value:function(){var e=$("#csrf").val();this.setState({csrf:e})}},{key:"handleFind",value:function(e,t,a){"idacreditado"==a&&this.setState({idacredita:t,icons1:"spinner circular inverted blue loading icon"});var n=this,r={url:base_url+"api/CarteraV1/getcreditos_clist/"+t,type:"GET",dataType:"json"};ajax(r).then(function(e){n.setState({nombre:e.acre[0].nombre,activo:1,icons1:"inverted circular search link icon",catPagares:e.check})},function(e){validaError(e);n.setState({message:"Acreditado inexistente!",nombre:"",statusmessage:"ui negative floating message",icons1:"inverted circular search link icon"}),n.autoReset()})}},{key:"handleButton",value:function(e,t){0==e&&this.setState({activo:0,idacreditado:"",nombre:"",idcredito:0,catPagares:[],catCalifica:[]})}},{key:"handleClickMessage",value:function(e){this.setState(function(e){return{message:"",statusmessage:"ui message hidden"}})}},{key:"handleonClickCheck",value:function(e){}},{key:"autoReset",value:function(){var e=this;window.clearTimeout(e.timeout),this.timeout=window.setTimeout(function(){e.setState({message:"",statusmessage:"ui message hidden"})},5e3)}},{key:"render",value:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"ui segment vertical"},React.createElement("div",{className:"row"},React.createElement("h3",{className:"ui rojo header"},"Calificacion de asistencia")),React.createElement("div",{className:"ui secondary menu"},React.createElement("div",{className:"ui basic icon buttons"},React.createElement("button",{className:"ui button","data-tooltip":"Nuevo Registro"},React.createElement("i",{className:"plus square outline icon",onClick:this.handleButton.bind(this,0)}))))),React.createElement(Mensaje,null),React.createElement("div",{className:this.state.statusmessage},React.createElement("p",null,React.createElement("b",null,this.state.message)),React.createElement("i",{className:"close icon",onClick:function(e){return t.setState({message:"",statusmessage:"ui message hidden"})}})),React.createElement("div",{className:"get disper"},React.createElement("form",{className:"ui form formdis",ref:"form"},React.createElement("input",{type:"hidden",name:"csrf_bancomunidad_token",value:this.state.csrf}),React.createElement("div",{className:1===this.state.activo?"disablediv":""},React.createElement("div",{className:"fields"},React.createElement(InputFieldFind,{icons:this.state.icons1,id:"idacreditado",cols:"three wide",mayuscula:"true",name:"idacreditado",valor:this.state.idacreditado,label:"Acreditado",placeholder:"Buscar",onChange:this.handleInputChange.bind(this),onClick:this.handleFind.bind(this)}),React.createElement(InputField,{id:"nombre",cols:"thirteen wide",label:"Nombre",readOnly:"readOnly",valor:this.state.nombre,onChange:this.handleInputChange.bind(this)}))),React.createElement("div",{className:"ui segment"},React.createElement("div",{className:"fields"},React.createElement(SelectOption,{id:"idpagare",cols:"three wide",label:"PagarÃ©",valor:this.state.idpagare,valores:this.state.catPagares,onChange:this.handleInputChange.bind(this)}))),React.createElement("div",{className:"segment"},React.createElement(Catalogo,{valores:this.state.catCalifica})))))}}]),a}();ReactDOM.render(React.createElement(Captura,null),document.getElementById("root")),$(".ui.search").search({type:"category",minCharacters:6,apiSettings:{url:base_url+"api/CarteraV1/solcreacre?q={query}",onResponse:function(e){var n={results:{}};if(e&&e.result)return $.each(e.result,function(e,t){var a=t.nombrecol||"Sin asignar";if(8<=e)return!1;void 0===n.results[a]&&(n.results[a]={name:a,results:[]}),n.results[a].results.push({title:t.nombre,description:"Sol "+t.idpersona+" - Ac "+t.idacreditado+" - "+t.grupo_nombre})}),n}}});